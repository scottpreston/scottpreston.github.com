<textarea id="test" style="width:300px;height:200px;"></textarea><button onclick="cap()">capture</button><hr>
<audio src="speech.mp3" controls="controls" id="aud" auto/>
<div id="log"></div>
<script>
var t = document.querySelector("#test");
t.addEventListener('change', function() {
  console.log(t.value);
  cap();
});
var l = document.querySelector("#log");
var p = document.createElement("p");

function cap() {
  p.innerText = t.value;
  l.prepend(p);
  t.value = "";
  var a = document.getElementById("aud");
  a.play();
}

var recognition = new SpeechRecognition();

recognition.onaudioend = function() {
  alert('Audio capturing ended');
}
</script>
